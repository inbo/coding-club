---
layout: presentation
title: Connect to INBO databases in R
---

class: center, middle

![:scale 30%]({{ site.baseurl}}/assets/images/coding_club_logo_1.png)

<!-- Do not forget to adapt the presentation title in the header! -->

<!-- Adjust the presentation to the session. Focus on the challenges,
    this is not a coding tutorial.

    Note, to include figures, store the image in the `/docs/assets/images/yyyymmdd/`
    folder and use the jekyll base.url reference as done in this template
    or see https://jekyllrb.com/docs/liquid/tags/#links.
    using the scale attribute ![:scale 30%](...), you can adjust the image size.
-->

<!--  Adjust the day, month  -->
# 26 JANUARY 2021

## INBO coding club

<!--  Adjust the room number and name  -->
Exclusively on INBOflix

---
class: center, middle

<!-- Create a new badge using Inkscape or other programs based on the assets/images/coding_club_badges.svg file -->
![:scale 90%]({{ site.baseurl}}/assets/images/20210126/20210126_badge_connect_to_inbo_db.png)


---
class: left, middle

## Introduction

We will explore the functionalities provided by two "made in INBO" packages.

1. [inbodb](https://inbo.github.io/inbodb/index.html)
2. [watina](https://inbo.github.io/watina/index.html)

---
class: left, middle

## `inbodb` package

1. Connect to any INBO database
2. Run specific queries for two INBO datbases: florabank and INBOVEG


[inbodb functions](https://inbo.github.io/inbodb/reference/index.html)

![:scale 100%]({{ site.baseurl}}/assets/images/20210126/20210126_functions_inbodb.png)

---
class: left, middle

No cheatsheet, but a well-written [INBO tutorial](https://inbo.github.io/tutorials/tutorials/r_database_access/) is available, yeah!

![:scale 100%]({{ site.baseurl}}/assets/images/20210126/20210126_tutorial_INBO_database_access_in_r.png)

<>
---
class: left, middle

## `watina` package

1. Connect to watina database
2. Run specific queries for watina database
3. Provide some useful helper functions

[watina functions](https://inbo.github.io/inbodb/reference/index.html)

![:scale 100%]({{ site.baseurl}}/assets/images/20210126/20210126_functions_watina.png)

---
class: center, middle

### How to get started?

Check the [Each session setup](https://inbo.github.io/coding-club/gettingstarted.html#each-session-setup) to get started.

### First time coding club?

Check the [First time setup](https://inbo.github.io/coding-club/gettingstarted.html#first-time-setup) section to setup.

---
class: left, middle

![:scale 100%]({{ site.baseurl}}/assets/images/coding_club_sticky_concept.png)
<br> No yellow sticky notes online :-( We use hackmd (see next slide) but basic principle doesn't change.

---
class: center, middle

### Share your code during the coding session!

<!-- Create a new hackmd file and replace this link (twice!) -->
Go to https://hackmd.io/SEuVG7pURQmvUGVjeXOrLA?edit

<iframe src="https://hackmd.io/SEuVG7pURQmvUGVjeXOrLA?edit" height="400px" width="800px"></iframe>

---
class: left, middle

## Install the required packages

Follow the

- [inbodb installation instructions](https://inbo.github.io/inbodb/#installation)
- [watina installation instructions](https://inbo.github.io/watina/index.html#installing-testing-and-using-the-watina-package)

## Load the required packages

```
library(inbodb)
library(watina)
```

---
class: left, middle

# Download data and code

Instead of downloading the files manually we have a new `inborutils` function called `setup_codingclub_session()`. If you have not used this function yet, restart your R session and update the `inborutils` package by running:

```r
if (!"remotes" %in% rownames(installed.packages())) {
  install.packages("remotes")
}
remotes::install_github("inbo/inborutils")
```

To download the coding club material of today, just run `setup_codingclub_session()`. In general, you can use the date in "YYYYMMDD" format , e.g. `setup_codingclub_session("20201027")`, to download the coding club material of October, 27. For all options, check the [tutorial online](https://inbo.github.io/tutorials/tutorials/r_setup_codingclub_session/).

Of course, you can still download [data](https://github.com/inbo/coding-club/blob/master/data/20210126/) and [scripts](https://github.com/inbo/coding-club/blob/master/src/20210126/) manually*!

<small>* __Note__: check the getting started instructions on [how to download a single file](https://inbo.github.io/coding-club/gettingstarted.html#each-session-setup)</small>

---
class: left, middle

# useR cases

in progress...

---
background-image: url({{ site.baseurl}}/assets/images/background_challenge_1.png)
class: left, middle

# Challenge 1

1. (Install and) load the `inbodb` and the `watina` package
2. Use the `connect_inbo_dbase` function from the inbodb package to connect to the databases `D0021_00_userFlora`(FLORABANK) and `D0010_00_Cydonia` (INBOVEG)

---
class: left, middle

# Intermezzo: the RStudio Connections pane

![:scale 100%]({{ site.baseurl}}/assets/images/20210126/20210126_rstudio_connection_pane.png)

<small>Image from [RStudio Connections pane article](https://db.rstudio.com/rstudio/connections/)</small>

---
background-image: url({{ site.baseurl}}/assets/images/background_challenge_2.png)
class: left, middle

# Challenge 2
Work in progres...

---
background-image: url({{ site.baseurl}}/assets/images/background_challenge_3.png)
class: left, middle

# Challenge 3

Work in progress...


---
class: left, middle

# Bonus challenge

Maybe?


---
class: left, middle

## Resources

- [inbodb package documentation](https://inbo.github.io/inbodb/index.html)
- [watina package documentation](https://inbo.github.io/watina/index.html). Check also the section with very useful articles
- the evergreen INBO tutorial about [reading data from INBO databases in R](https://inbo.github.io/tutorials/tutorials/r_database_access/)

---
class: center, middle

![:scale 30%]({{ site.baseurl}}/assets/images/coding_club_logo_1.png)

<!--  Adjust the room and date  -->
Room: 01.05 - Isala Van Diest(?)<br>
Date: __25/02/2021__, van 10:00 tot 12:00<br>
Subject: **read data in R** <br>
(registration announced via DG_useR@inbo.be)
